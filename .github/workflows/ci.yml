- name: Show tree (debug)
  run: |
    pwd
    ls -la
    echo "---- pyproject.toml ----"
    cat pyproject.toml || echo "NO pyproject.toml"
    echo "---- ruff.toml ----"
    cat ruff.toml || echo "NO ruff.toml"

- name: Install deps (explicit versions)
  run: |
    python -m pip install --upgrade pip
    pip install "ruff>=0.5" "black>=24.4" "mypy>=1.10" "pytest>=8.2" "pytest-cov>=5.0" "coverage[toml]"
    pip install -r requirements.txt

- name: Lint (ruff) â€” show-config
  run: ruff config --config ruff.toml

- name: Lint (ruff)
  run: ruff check . --config ruff.toml
